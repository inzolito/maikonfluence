<!DOCTYPE html>
<html>
    <head>
        <title>Product: MineOperate OP Pro : Break Optimization Workflow</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Product: MineOperate OP Pro</a></span>
                            </li>
                                                    <li>
                                <span><a href="MineOperate-OP-Pro_224018004.html">MineOperate OP Pro</a></span>
                            </li>
                                                    <li>
                                <span><a href="Product-Releases_228590211.html">Product Releases</a></span>
                            </li>
                                                    <li>
                                <span><a href="OP-Pro-3.0_231785728.html">OP Pro 3.0</a></span>
                            </li>
                                                    <li>
                                <span><a href="OP-Pro-3.0-Major-Features_231786275.html">OP Pro 3.0 Major Features</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Product: MineOperate OP Pro : Break Optimization Workflow
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> GEORGE Nathan</span> on feb 17, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1764958723375 {padding: 0px;}
div.rbtoc1764958723375 ul {margin-left: 0px;}
div.rbtoc1764958723375 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1764958723375'>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-BreakTypes'>Break Types</a></li>
<li><a href='#BreakOptimizationWorkflow-BreakAttributes'>Break Attributes</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-BreakView'>Break View</a></li>
<li><a href='#BreakOptimizationWorkflow-Otherbreakrelatedattributes'>Other break related attributes</a></li>
</ul>
</li>
<li><a href='#BreakOptimizationWorkflow-Configuration'>Configuration</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-Configurations'>Configurations</a></li>
<li><a href='#BreakOptimizationWorkflow-ExceptionRoutes'>Exception Routes</a></li>
<li><a href='#BreakOptimizationWorkflow-Phrases'>Phrases</a></li>
<li><a href='#BreakOptimizationWorkflow-Enums'>Enums</a></li>
</ul>
</li>
<li><a href='#BreakOptimizationWorkflow-LunchWorkflow'>Lunch Workflow</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-Beforethebreakstarts'>Before the break starts</a></li>
<li><a href='#BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer)'>Once the break starts (for each iteration of the optimizer)</a></li>
</ul>
</li>
<li><a href='#BreakOptimizationWorkflow-TiedownNowWorkflow'>Tiedown Now Workflow</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-Beforethebreakstarts.1'>Before the break starts</a></li>
<li><a href='#BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).1'>Once the break starts (for each iteration of the optimizer)</a></li>
</ul>
</li>
<li><a href='#BreakOptimizationWorkflow-TiedownOptimizedWorkflow'>Tiedown Optimized Workflow</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-Beforethebreakstarts.2'>Before the break starts</a></li>
<li><a href='#BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).2'>Once the break starts (for each iteration of the optimizer)</a></li>
</ul>
</li>
<li><a href='#BreakOptimizationWorkflow-TiedownShiftChangeWorkflow'>Tiedown Shift Change Workflow</a>
<ul class='toc-indentation'>
<li><a href='#BreakOptimizationWorkflow-Beforethebreakstarts.3'>Before the break starts</a></li>
<li><a href='#BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).3'>Once the break starts (for each iteration of the optimizer)</a></li>
</ul>
</li>
</ul>
</div><h1 id="BreakOptimizationWorkflow-BreakTypes">Break Types</h1><p>There are four different breaks that can be set up in the system:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Type</th><th class="confluenceTh">Used for</th></tr><tr><td class="confluenceTd">tiedown_optimized</td><td class="confluenceTd">Tiedown type break. The system will assign the truck to a valid tiedown when the optimizer determines that no more optimized load cycles can be made without exceeding the end of break or the last bucket time (whichever is more restrictive). The tiedown assignment should happen towards the end of the break.</td></tr><tr><td class="confluenceTd">tiedown_now</td><td class="confluenceTd">Tiedown type break. The system will assign the trucks at the start of the break to a valid tiedown without considering more optimized load cycles.</td></tr><tr><td class="confluenceTd">tiedown_shiftchange</td><td class="confluenceTd"><span><span>Tiedown type break. </span></span>The system will assign the truck to a valid tiedown when the optimizer determines that no more optimized load cycles can be made without exceeding the end of break or the last bucket time (whichever is more restrictive). This break type utilizes the tiedown_option field to dynamically add a truck's loading unit's location and dump lock location to the list of available tiedowns for the truck. The optimizer will also consider the minimum_truck_count for all available tiedown locations that apply to the break, assigning trucks first to the locations that have not yet met their minimum_truck_count.</td></tr><tr><td colspan="1" class="confluenceTd">lunch</td><td colspan="1" class="confluenceTd">Lunch type break. This break is not optimized. The dispatcher selects the locations to use for this break by adding locations to the break's location list. The Optimizer assigns each truck to the tiedown location from the location list that is closest to it's current location.</td></tr></tbody></table></div><h1 id="BreakOptimizationWorkflow-BreakAttributes"><span style="font-size: 20.0px;">Break Attributes</span></h1><h2 id="BreakOptimizationWorkflow-BreakView"><span style="font-size: 20.0px;">Break View</span></h2><p style="text-align: left;">The breaks view in OP Pro Manager is used to configure the breaks. The attributes and the break types that they apply to are shown in the table below.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 102.0px;"/><col style="width: 846.0px;"/><col style="width: 270.0px;"/><col style="width: 269.0px;"/><col style="width: 278.0px;"/><col style="width: 59.0px;"/></colgroup><tbody><tr><th class="confluenceTh">Field</th><th class="confluenceTh">Data</th><th colspan="1" class="confluenceTh">tiedown_optimized</th><th colspan="1" class="confluenceTh">tiedown_now</th><th colspan="1" class="confluenceTh">tiedown_shiftchange</th><th colspan="1" class="confluenceTh">lunch</th></tr><tr><td colspan="1" class="confluenceTd">Name</td><td colspan="1" class="confluenceTd"><span>Name of the break</span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td class="confluenceTd">Break Type</td><td class="confluenceTd">One of the 4 types above</td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><p><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></p></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td class="confluenceTd">Shift</td><td class="confluenceTd">What shift does this break belong to (e.g. Day Shift / Night shift)</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td class="confluenceTd">Start Time</td><td class="confluenceTd"><p>Time the break starts. Start assigning trucks to tiedowns.</p></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">End Time</td><td colspan="1" class="confluenceTd">Time the break ends. Stop assigning trucks to tiedowns.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd"><span>Last Bucket Time</span></td><td colspan="1" class="confluenceTd"><span>Time the last bucket is to be in the truck. This is the input for the timing to be worked from. If a truck is tipping off and it can't get its last bucket or full assignment by this time then it is sent to the tiedown. (Optional)</span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-cross confluence-external-resource" draggable="false" alt="(error)" src="images/icons/emoticons/error.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/error.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)" data-emoji-short-name=":cross:"/></td></tr><tr><td colspan="1" class="confluenceTd">Assign Trucks From</td><td colspan="1" class="confluenceTd">Drop down menu with Loading units and Regions. If a loading unit is selected the trucks locked and/or assigned to the loading unit are going to be part of this break. If a region is selected the trucks traveling on that region will be part of this break. If the field is empty all trucks will be part of this break.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Tiedown Option</td><td colspan="1" class="confluenceTd">Drop down menu with two options: &quot;Loading unit&quot; or &quot;Loading unit and dump&quot;. If loading unit is selected, the optimizer will add the truck's loading unit location to the list of possible tiedown locations when attempting to determine the best tiedown for that truck. If loading unit and dump is selected, <span>the optimizer will add the truck's loading unit location and the loading unit's dump lock location to the list of possible tiedown locations when attempting to determine the best tiedown for that truck.</span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-cross confluence-external-resource" draggable="false" alt="(error)" src="images/icons/emoticons/error.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/error.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-cross confluence-external-resource" draggable="false" alt="(error)" src="images/icons/emoticons/error.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/error.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-cross" src="images/icons/emoticons/error.svg" data-emoticon-name="cross" alt="(error)" data-emoji-short-name=":cross:"/></td></tr><tr><td colspan="1" class="confluenceTd">Locations</td><td colspan="1" class="confluenceTd">List of locations that the optimizer should use as tiedown locations for this break.</td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd"><span>Reason</span></td><td colspan="1" class="confluenceTd"><span>Status code to set the trucks to when they arrive at the tiedown location for this break.</span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Excluded Trucks</td><td colspan="1" class="confluenceTd">List of trucks excluded from this break.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Excluded Shovels</td><td colspan="1" class="confluenceTd">List of shovels to exclude from this break. If a truck is locked or assigned to a shovel in this list then it will be excluded from the break.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Must Tiedown Empty</td><td colspan="1" class="confluenceTd"><p>If this is true, the optimizer will wait until the truck is empty to assign it to the tiedown location.</p><p>If this is true for tiedown_optimized and tiedown_shiftchange breaks, the system will calculate times for the last cycle after the dump assignment (shovel-&gt;dump-&gt;tiedown), otherwise the system will calculate times after it loads on the assigned shovel (shovelâ†’tiedown).</p><p>The global optimizer must_tiedown_empty configuration and the break type's must_tiedown_empty configuration both take precedence over this value if either of those configurations are set to true.</p></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image emoticon emoticon-tick confluence-external-resource" draggable="false" alt="(tick)" src="images/icons/emoticons/check.png" data-image-src="https://confluence.hexagonmining.com/s/en_GB/7201/e9483755159fbecaf5aef9b1eebd094ee4430d2f/_/images/icons/emoticons/check.png"></span></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Canceled</td><td colspan="1" class="confluenceTd">Set this value to true to cancel the break. Cancelling a break after it has already started will clear the current_break field for all trucks that were eligible for the break that had not yet received a tiedown assignment. Trucks that were already assigned to a tiedown location will retain the tiedown assignment and will remain on the canceled break until the dispatcher intervenes. This field is false by default but can be configured to be true by default. This filed can be configured to reset to true after the break has ended.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr><tr><td colspan="1" class="confluenceTd">Accepted</td><td colspan="1" class="confluenceTd">If the accept_break_seconds configuration is set the dispatcher will receive a message before the break starts to accept or reject the break. If the dispatcher accepts the break then this field is set to true and the optimizer will make assignments for this break when it starts. This field is only considered if accept_break_seconds is configured. The value of this field is false by default and is reset to false at the end of the break. This field should be read only or hidden from the user.</td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td><td colspan="1" class="confluenceTd"><img class="emoticon emoticon-tick" src="images/icons/emoticons/check.svg" data-emoticon-name="tick" alt="(tic)" data-emoji-short-name=":tick:"/></td></tr></tbody></table></div><p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" draggable="false" width="800" src="attachments/187909043/201065489.png" data-image-src="attachments/187909043/201065489.png" data-unresolved-comment-count="0" data-linked-resource-id="201065489" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="break_view.png" data-base-url="https://confluence.hexagonmining.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="187909043" data-linked-resource-container-version="43" alt=""></span></p><h2 id="BreakOptimizationWorkflow-Otherbreakrelatedattributes">Other break related attributes</h2><p>The table below shows the attributes that are owned by other objects (such as locations or equipment) that influence the break assignment or influenced by the break module.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Attribute</th><th class="confluenceTh">Table</th><th class="confluenceTh">Purpose</th></tr><tr><td class="confluenceTd">truck_capacity</td><td class="confluenceTd">locations</td><td class="confluenceTd">The maximum number of trucks that can be at this location. The optimizer will not assign a truck to tiedown at a location if it's capacity has been met.</td></tr><tr><td class="confluenceTd">minimum_truck_count</td><td class="confluenceTd">locations</td><td class="confluenceTd">The minimum number of trucks that need to be assigned to tiedown at this location during a tiedown_shiftchange break. If a location is a valid tiedown location for a break and minimum_truck_count is non-zero for that location then the optimizer will attempt to satisfy the minimum_truck_count by prioritizing the location until minimum_truck_count trucks have been assigned to tiedown at the location. If more than one valid tiedown location exists with a non-zero minimum_truck_count then the optimizer will prioritize whichever one of those locations is closest to the truck's next projected assignment location. Once the minimum_truck_count has been met for all of the break's valid tiedown locations, the optimizer will resume it's normal tiedown assignment behavior.</td></tr><tr><td class="confluenceTd">allow_tiedown</td><td class="confluenceTd">locations</td><td class="confluenceTd">Set to true to allow trucks to tiedown at this location. This is only used when the locations filed is empty for tiedown_now and tiedown_optimized breaks and when both the locations field and the tiedown_option field are empty for tiedown_shiftchange type breaks. This field is also used when making tiedown assignments through the truck_best_tiedown view if the old tiedown logic is being used (i.e. when the optimizer chooseBestTiedown configuration is false).</td></tr><tr><td colspan="1" class="confluenceTd">allow_tiedown</td><td colspan="1" class="confluenceTd">digging</td><td colspan="1" class="confluenceTd"><span>Set to true to allow trucks to tiedown at this shovel's location. This is only used when the locations filed is empty for tiedown_now and tiedown_optimized breaks and when both the locations field and the tiedown_option field are empty for tiedown_shiftchange type breaks. This field is also used when making tiedown assignments through the truck_best_tiedown view if the old tiedown logic is being used<span> (i.e. when the optimizer chooseBestTiedown configuration is false)</span>.</span></td></tr><tr><td colspan="1" class="confluenceTd">tiedown_id</td><td colspan="1" class="confluenceTd">assignments</td><td colspan="1" class="confluenceTd">The tiedown that the truck will be assigned to. This field is populated by the optimizer break module once it has determined that it is time for the truck to tiedown or by pressing one of the buttons in the truck_best_tiedown view if chooseBestTiedown is false.</td></tr><tr><td colspan="1" class="confluenceTd">had_break_id</td><td colspan="1" class="confluenceTd">assignments</td><td colspan="1" class="confluenceTd">Set by the optimizer when a truck arrives at it's lunch break location. This is set to the id of the break that the truck is currently taking and is cleared at the end of the break.</td></tr><tr><td colspan="1" class="confluenceTd">break_location_id</td><td colspan="1" class="confluenceTd">assignments</td><td colspan="1" class="confluenceTd">This is the lunch break location that the truck has been assigned to. This is set by the optimizer when the truck is assigned to travel to a location for a lunch break or if a truck arrives at a location for an active lunch break that it qualifies for.</td></tr><tr><td colspan="1" class="confluenceTd">tiedown_lock_id</td><td colspan="1" class="confluenceTd">assignments</td><td colspan="1" class="confluenceTd">Locked tiedown assignment location for a truck. If this is set and the location is not down then the optimizer will only consider this location for the truck when determining the tiedown location.</td></tr><tr><td colspan="1" class="confluenceTd">current_break_id</td><td colspan="1" class="confluenceTd">assignments</td><td colspan="1" class="confluenceTd">The active break that currently applies to this truck. This field can also show breaks that are about to start that will apply to the truck if populateCurrentBreakSeconds is set. This field will be set by the optimizer while a break is active if the break applies to the truck. If conditions change so that a truck is no longer eligible for the break then the optimizer will clear this field for the truck. This field is also cleared once the break ends or if the break is canceled unless the truck has already received a tiedown assignment for the break.</td></tr></tbody></table></div><h1 id="BreakOptimizationWorkflow-Configuration">Configuration</h1><h2 id="BreakOptimizationWorkflow-Configurations">Configurations</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Module</th><th class="confluenceTh">Attribute</th><th class="confluenceTh">Application</th><th class="confluenceTh">Value</th><th class="confluenceTh">Description</th></tr><tr><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">enable_last_bucket_seconds</td><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to enable the use of last_bucket_seconds attribute in the breaks view. If this is false then the validation for last_bucket_seconds will be skipped.</td></tr><tr><td colspan="1" class="confluenceTd">optimizer</td><td colspan="1" class="confluenceTd">must_tiedown_empty</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to require trucks to tiedown empty for <strong>all</strong> breaks regardless of type or individual must_tiedown_empty configuration. This is a global must_tiedown_empty configuration that takes precedence over all other must_tiedown_empty settings if this configuration is true.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">tiedown_now_must_tiedown_empty</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to require trucks to tiedown empty for all tiedown_now type breaks. If this is false then trucks are allowed to tiedown empty for the break unless the global must_tiedown_empty configuration is true or unless the break's must_tiedown_empty attribute is true.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">tiedown_optimized_must_tiedown_empty</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd"><span>Set this to true to require trucks to tiedown empty for all tiedown_optimized type breaks. If this is false then trucks are allowed to tiedown empty for the break unless the global must_tiedown_empty configuration is true or unless the break's must_tiedown_empty attribute is true.</span></td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">tiedown_shift_change_must_tiedown_empty</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd"><span>Set this to true to require trucks to tiedown empty for all tiedown_shiftchange type breaks. If this is false then trucks are allowed to tiedown empty for the break unless the global must_tiedown_empty configuration is true or unless the break's must_tiedown_empty attribute is true.</span></td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">populate_current_break_seconds</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">300</td><td colspan="1" class="confluenceTd">Seconds before the start of the break to calculate the trucks that the break will apply to. If this is set then JAMS will populate the current_break_id assignment field for all trucks that the break will apply to. This allows dispatchers to view which trucks will receive a break before the break starts and make changes if necessary.</td></tr><tr><td colspan="1" class="confluenceTd">logger</td><td colspan="1" class="confluenceTd">enable_exception</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">break_alert</td><td colspan="1" class="confluenceTd">Add the break_alert log to the logger's enable_exceptions to send an exception to the dispatcher when the break starts and ends.</td></tr><tr><td colspan="1" class="confluenceTd">optimizer</td><td colspan="1" class="confluenceTd">choose_best_tiedown</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to allow the optimizer to select the most optimal tiedown location for the trucks. If this is false then dispatchers will have to use the truck_best_tiedown view to set the tiedowns for each truck before the break starts.</td></tr><tr><td colspan="1" class="confluenceTd">optimizer</td><td colspan="1" class="confluenceTd">recalculate_tiedown_if_over_time</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to allow the optimizer to find a tiedown closer to a truck's current assignment if the truck will not make it to the optimal tiedown before the end of the break.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">break_popup_interval</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">300</td><td colspan="1" class="confluenceTd">Seconds before the start of the break to popup the break view.</td></tr><tr><td colspan="1" class="confluenceTd">popup_listeners</td><td colspan="1" class="confluenceTd">init</td><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">break_popup=break_view</td><td colspan="1" class="confluenceTd">Configure OP Pro Manager to popup the break view at break_popup_interval before the break starts. The view that pops up can be changed by changing break_view to the name of the desired view.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">accept_break_seconds</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">300</td><td colspan="1" class="confluenceTd">Seconds before the start of the break to send the dispatcher an exception to accept or reject the break. If the dispatcher rejects the break or ignores the exception then the break will not start. Set to 0 or null if breaks do not require dispatcher approval. An exception_routing record must also be created for the dispatcher to receive the exception.</td></tr><tr><td colspan="1" class="confluenceTd">exceptions</td><td colspan="1" class="confluenceTd">:accept_break</td><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">auto_accept=false</td><td colspan="1" class="confluenceTd">Add this config so that the dispatcher will receive the accept break exception.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">break_limit</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd">This is used to limit the number of lunch type breaks that a truck can take during a shift. This is useful if multiple breaks are configured for different shovels or regions so that optimized (unlocked) trucks are not able to receive multiple breaks if they are assigned to multiple shovels throughout the shift that have different break times.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">allow_limit_override</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">Set this to true to allow the dispatcher to override the break limit. If this is true and a truck is eligible for a break but has already reached the break limit for the shift then the dispatcher will receive an exception to override the break limit for the truck. If the dispatcher accepts the exception then the truck will be allowed to take the break. If the dispatcher rejects the exception then the truck will be added to the break's excluded truck list and will not receive an assignment for the break. <span>An exception_routing record must also be created for the dispatcher to receive the exception.</span></td></tr><tr><td colspan="1" class="confluenceTd">exceptions</td><td colspan="1" class="confluenceTd">:break_limit</td><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">auto_accept=false</td><td colspan="1" class="confluenceTd">Add this configuration so that the dispatcher will receive the limit override exception.</td></tr><tr><td colspan="1" class="confluenceTd">logger</td><td colspan="1" class="confluenceTd">enable_exception</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">tiedown_exception</td><td colspan="1" class="confluenceTd">Add the tiedown_exception log to the logger's enable_exceptions to send an exception to the dispatcher when the optimizer is not able to find a tiedown location for a truck.</td></tr><tr><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">cancel_break_by_default</td><td colspan="1" class="confluenceTd">jminegraph</td><td colspan="1" class="confluenceTd">true</td><td colspan="1" class="confluenceTd">Set this to true to have ruby set the canceled field for a break to true by default whenever a new break is created in MineOps.</td></tr><tr><td colspan="1" class="confluenceTd">Break</td><td colspan="1" class="confluenceTd">reset_canceled_after_break_end</td><td colspan="1" class="confluenceTd">model</td><td colspan="1" class="confluenceTd">true</td><td colspan="1" class="confluenceTd">Set this to true to have JAMS set the value of a break's canceled field to true once the break ends.</td></tr><tr><td colspan="1" class="confluenceTd">action</td><td colspan="1" class="confluenceTd">auto_tiedown_location_types</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">Tiedown,MaintShop</td><td colspan="1" class="confluenceTd">This is a comma separated list of location types with &quot;Tiedown&quot; set as the default type but can include other types if other location types are used for tiedowns, e.g. &quot;Tiedown,MaintShop,FuelMaintShop&quot;. Blast and Dump types should not be added to this list. Defines the location types where the system will automatically change a truck's status to the currently active break's status upon arrival at a break location of that type. If a location is used for a break and that location's type is not defined in the autoTiedownLocationTypes list then trucks arriving at that location will only receive the status for the break if they are moving_empty or moving_loaded when they arrive (this is the case when the trucks are assigned to locations to tiedown). This configuration is also used when auto delaying idle trucks at locations used for breaks. If a truck is idle at a location that is used as a break location for an active break then the truck will automatically change status to the break's status if the location's type is defined in the autoTiedownLocationTypes list.</td></tr><tr><td colspan="1" class="confluenceTd">action</td><td colspan="1" class="confluenceTd">disable_delay_outside_break_location</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">false</td><td colspan="1" class="confluenceTd">If an active break applies to a truck and the truck is idle but not at one of the break's locations then the truck will change status to the break's status. The disableDelayOutsideBreakLocation has been added to disable this functionality if desired by setting this value to true.</td></tr><tr><td colspan="1" class="confluenceTd">optimizer</td><td colspan="1" class="confluenceTd">tiedown_exception_mute_seconds</td><td colspan="1" class="confluenceTd">JAMS</td><td colspan="1" class="confluenceTd">300</td><td colspan="1" class="confluenceTd">Seconds to wait before sending another tiedown exception message to the dispatcher for a truck that does not have any valid tiedowns during a break.</td></tr></tbody></table></div><h2 id="BreakOptimizationWorkflow-ExceptionRoutes">Exception Routes</h2><p>The following exception_route records will need to be added for the dispatcher to receive the break_limit and accept_break exceptions:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">username</th><th class="confluenceTh">subject</th></tr><tr><td class="confluenceTd">DISPATCHER</td><td class="confluenceTd">:break_limit</td></tr><tr><td class="confluenceTd">DISPATCHER</td><td class="confluenceTd"><p>:accept_break</p></td></tr></tbody></table></div><h2 id="BreakOptimizationWorkflow-Phrases">Phrases</h2><p>Add the following phrases for translating the exception messages:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">language</th><th class="confluenceTh">scope</th><th class="confluenceTh">phrase</th><th class="confluenceTh">translation</th></tr><tr><td class="confluenceTd">English</td><td class="confluenceTd">any</td><td class="confluenceTd">message_break_limit</td><td class="confluenceTd">Requesting break limit override for #{a[:Truck]} with break #{a[:Break]}</td></tr><tr><td class="confluenceTd">English</td><td class="confluenceTd">any</td><td class="confluenceTd">message_accept_break</td><td class="confluenceTd">Break #{a[:Break]} starting</td></tr></tbody></table></div><h2 id="BreakOptimizationWorkflow-Enums">Enums</h2><p>Add the following enum records to enum_tables:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Type</th><th class="confluenceTh">Symbol</th></tr><tr><td class="confluenceTd">Tiedown Now</td><td class="confluenceTd">BreakType</td><td class="confluenceTd">tiedown_now</td></tr><tr><td class="confluenceTd">Tiedown Optimized</td><td class="confluenceTd">BreakType</td><td class="confluenceTd">tiedown_optimized</td></tr><tr><td colspan="1" class="confluenceTd">Tiedown Shift Change</td><td colspan="1" class="confluenceTd">BreakType</td><td colspan="1" class="confluenceTd">tiedown_shiftchange</td></tr><tr><td colspan="1" class="confluenceTd">Lunch</td><td colspan="1" class="confluenceTd">BreakType</td><td colspan="1" class="confluenceTd"><p>lunch</p></td></tr><tr><td colspan="1" class="confluenceTd">Loading Unit</td><td colspan="1" class="confluenceTd">TiedownOption</td><td colspan="1" class="confluenceTd">loading_unit</td></tr><tr><td colspan="1" class="confluenceTd">Loading Unit and Dump</td><td colspan="1" class="confluenceTd">TiedownOption</td><td colspan="1" class="confluenceTd">loading_unit_and_dump</td></tr></tbody></table></div><h1 id="BreakOptimizationWorkflow-LunchWorkflow">Lunch Workflow</h1><h2 id="BreakOptimizationWorkflow-Beforethebreakstarts">Before the break starts</h2><ol><li>If accept_break_seconds is configured and the break is not cancelled then JAMS will send an exception to the dispatcher to accept or reject the break at accept_break_seconds before the break starts. If the break is rejected then the break will be cancelled and trucks will not receive an assignment for the break.</li><li>If break_popup_interval is configured and the break is not cancelled then the break view will popup at break_popup_interval before the break starts for the dispatcher to review the break.</li><li>If populate_current_break_seconds is set and the break is not cancelled then JAMS will populate the current_break_id assignment field for all trucks that the break will apply to. JAMS will determine the trucks for this break using the &quot;Assign Trucks From&quot; field as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li></ol><h2 id="BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer)">Once the break starts (<span class="inline-comment-marker" data-ref="1073246a-ecd6-47b0-96d1-68a065cad876">for each iteration of the optimizer</span>)</h2><ol><li>The optimizer checks if the truck is eligible for a currently active break by sorting all of the active breaks by start time and finding the first break that the truck meets the criteria for. If the current break for the truck has changed the optimizer will change the current_break_id for the truck to either the new break or to null if the truck is no longer eligible for any active breaks. The optimizer uses the &quot;Assign Trucks From&quot; field for each of the active breaks to determine if a truck is eligible for the break as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li><li>The optimizer selects the break location from the break's location field. The optimizer chooses the location from the location list that is closest to the truck's dump location. <span class="inline-comment-marker" data-ref="d9c4916b-1cd0-44c4-9979-2f26a174ce94">The optimizer will not assign the truck to a break location until after it has completed the current cycle</span>.</li><li>If break_limit is set the optimizer will check if the truck has already reached the break limit for this shift before assigning the truck to the break location. If the truck has not reached the break limit (or there isn't a break limit) the optimizer will assign the truck to the break location.</li><li>If the truck has reached the break limit and allow_limit_override is true then an exception will be sent to the dispatcher to accept or reject the break for the truck. If the dispatcher accepts the break then the truck will receive the assignment to the break location. If the dispatcher rejects the break then the truck will be added to the excluded trucks list for the break and will not receive an assignment to the break location for the break.</li><li>If the truck has reached the break limit and allow_limit_override is false then the truck will not receive an assignment for the break.</li></ol><h1 id="BreakOptimizationWorkflow-TiedownNowWorkflow">Tiedown Now Workflow</h1><h2 id="BreakOptimizationWorkflow-Beforethebreakstarts.1">Before the break starts</h2><ol><li>If accept_break_seconds is configured and the break is not cancelled then JAMS will send an exception to the dispatcher to accept or reject the break at accept_break_seconds before the break starts. If the break is rejected then the break will be cancelled and trucks will not receive an assignment for the break.</li><li>If break_popup_interval is configured and the break is not cancelled then the break view will popup at break_popup_interval before the break starts for the dispatcher to review the break.</li><li>If populate_current_break_seconds is set and the break is not cancelled then JAMS will populate the current_break_id assignment field for all trucks that the break will apply to. JAMS will determine the trucks for this break using the &quot;Assign Trucks From&quot; field as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li></ol><h2 id="BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).1">Once the break starts (for each iteration of the optimizer)</h2><ol><li>The optimizer checks if the truck is eligible for a currently active break by sorting all of the active breaks by start time and finding the first break that the truck meets the criteria for. If the current break for the truck has changed the optimizer will change the current_break_id for the truck to either the new break or to null if the truck is no longer eligible for any active breaks. The optimizer uses the &quot;Assign Trucks From&quot; field for each of the active breaks to determine if a truck is eligible for the break as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li><li>If choose_best_tiedown is false, the optimizer will use the tiedown that was previously computed in the truck_best_tiedown view by the dispatcher. If choose_best_tiedown is true then the optimizer will gather the list of eligible tiedowns for the truck as follows:<ol><li>If the break's locations field has been populated then the tiedowns are chosen from the locations list.</li><li>If the locations field is empty then the system uses all available tiedown locations and all locations and loading units with allow_tiedown set to true.</li><li>The optimizer removes locations from the list that have already met the truck_capacity and locations that the truck is restricted from.</li></ol></li><li>The optimizer determines the best tiedown for the truck as follows:<br/><ol><li>If the truck is currently assigned to a shovel and must_tiedown_empty is true, the optimizer will select the closest valid tiedown location to the dump, waiting until after the truck dumps to assign the truck to the tiedown.</li><li>If the truck is currently assigned to a shovel and must_tiedown_empty is false, the optimizer will select the closest valid tiedown location to the shovel, waiting until after the truck finishes loading to assign the truck to the tiedown.</li><li>If the truck is currently assigned to a dump, the optimizer will select the closest valid tiedown location to the dump, waiting until after the truck dumps to assign the truck to the tiedown.</li><li>If no valid tiedown locations exist for the truck due to restrictions, truck capacity, etc. then the optimizer will send an exception to the dispatcher.</li></ol></li></ol><h1 id="BreakOptimizationWorkflow-TiedownOptimizedWorkflow">Tiedown Optimized Workflow</h1><h2 id="BreakOptimizationWorkflow-Beforethebreakstarts.2">Before the break starts</h2><ol><li>If accept_break_seconds is configured and the break is not cancelled then JAMS will send an exception to the dispatcher to accept or reject the break at accept_break_seconds before the break starts. If the break is rejected then the break will be cancelled and trucks will not receive an assignment for the break.</li><li>If break_popup_interval is configured and the break is not cancelled then the break view will popup at break_popup_interval before the break starts for the dispatcher to review the break.</li><li>If populate_current_break_seconds is set and the break is not cancelled then JAMS will populate the current_break_id assignment field for all trucks that the break will apply to. JAMS will determine the trucks for this break using the &quot;Assign Trucks From&quot; field as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li></ol><h2 id="BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).2">Once the break starts (for each iteration of the optimizer)</h2><ol><li>The optimizer checks if the truck is eligible for a currently active break by sorting all of the active breaks by start time and finding the first break that the truck meets the criteria for. If the current break for the truck has changed the optimizer will change the current_break_id for the truck to either the new break or to null if the truck is no longer eligible for any active breaks. The optimizer uses the &quot;Assign Trucks From&quot; field for each of the active breaks to determine if a truck is eligible for the break as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li><li>If choose_best_tiedown is false, the optimizer will use the tiedown that was previously computed in the truck_best_tiedown view by the dispatcher. If choose_best_tiedown is true then the optimizer will gather the list of eligible tiedowns for the truck as follows:<ol><li>If the break's locations field has been populated then the tiedowns are chosen from the locations list.</li><li>If the locations field is empty then the system uses all available tiedown locations and all locations and loading units with allow_tiedown set to true.</li><li>The optimizer removes locations from the list that have already met the truck_capacity and locations that the truck is restricted from.</li></ol></li><li>The optimizer determines the best tiedown for the truck as follows:<ol><li>If the last location before tiedown is a shovel, the optimizer will select the closest valid tiedown location to the projected dump assignment.</li><li>If the last location before tiedown is a dump, the optimizer will select the closest valid tiedown location to the projected shovel assignment.</li></ol></li><li><p>The optimizer willÂ use the projected queues at the shovels and dumps to predict the times the trucks will leave these locations to determine if the truck can complete another cycle and arrive at a tiedown location before the end of the break. The optimizer uses the following logic to check if the truck can do an extra cycle:</p><ol><li><p>If the truck is currently assigned to a shovel (traveling, waiting, spotting, loading) and must tiedown empty is true, the optimizer will allow the truck to continue with the current optimized assignment since the truck cannot tiedown until after it dumps the load.</p></li><li><p>If the is currently assigned to a shovel (traveling, waiting, spotting, loading) and must tiedown empty is false, the optimizer will calculate the time the truck will complete the current haul cycle and arrive at the tiedown using the route &quot;current locationÂ â†’ shovelÂ â†’ dumpÂ â†’ tiedown&quot;. The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above using the projected dump assignment as the last location before tiedown.</p></li><li><p>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) and must tiedown empty is true, the optimizer will calculate the time the truck will complete an extra load and arrive at the tiedown location using the route â€œcurrent location â†’ dump â†’ shovel â†’ dump â†’ tiedownâ€. If last_bucket_seconds is set then the optimizer will also verify that the truck can receive it's last bucket before the last_bucket_seconds time. The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above using the projected dump assignment as the last location before tiedown.</p></li><li><p>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) and must tiedown empty is false, the optimizer will calculate the time the truck will complete an extra load and arrive at the tiedown location using the route â€œcurrent location â†’ dump â†’ shovelÂ â†’ tiedownâ€. If last_bucket_seconds is set then the optimizer will also verify that the truck can receive it's last bucket before the last_bucket_seconds time.Â The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above use the projected shovel assignment as the last location before tiedown.</p></li></ol></li><li><p>If the estimated time of arrival at the tiedown calculated in step 4 is before the end of the tiedown the optimizer will allow the truck to continue with the regular optimized assignment. If the estimated time is after the end of the tiedown, the optimizer will assign the truck to a tiedown location as follows:</p><ol><li>If the truck is currently assigned to a shovel (traveling, waiting, spotting, loading) the optimizer will assign the truck to a tiedown according to the rules outlined in step 3, using the shovel as the last location before tiedown. The truck will receive the tiedown assignment after it finishes loading at the shovel.</li><li>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) the optimizer will assign the truck to a tiedown according to the rules outlined in step 3, using the dump as the last location before tiedown. The truck will receive the tiedown assignment after it finishes tipping at the dump.</li></ol></li></ol><h1 id="BreakOptimizationWorkflow-TiedownShiftChangeWorkflow">Tiedown Shift Change Workflow</h1><h2 id="BreakOptimizationWorkflow-Beforethebreakstarts.3">Before the break starts</h2><ol><li>If accept_break_seconds is configured and the break is not cancelled then JAMS will send an exception to the dispatcher to accept or reject the break at accept_break_seconds before the break starts. If the break is rejected then the break will be cancelled and trucks will not receive an assignment for the break.</li><li>If break_popup_interval is configured and the break is not cancelled then the break view will popup at break_popup_interval before the break starts for the dispatcher to review the break.</li><li>If populate_current_break_seconds is set and the break is not cancelled then JAMS will populate the current_break_id assignment field for all trucks that the break will apply to. JAMS will determine the trucks for this break using the &quot;Assign Trucks From&quot; field as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li></ol><h2 id="BreakOptimizationWorkflow-Oncethebreakstarts(foreachiterationoftheoptimizer).3">Once the break starts (for each iteration of the optimizer)</h2><ol><li>The optimizer checks if the truck is eligible for a currently active break by sorting all of the active breaks by start time and finding the first break that the truck meets the criteria for. If the current break for the truck has changed the optimizer will change the current_break_id for the truck to either the new break or to null if the truck is no longer eligible for any active breaks. The optimizer uses the &quot;Assign Trucks From&quot; field for each of the active breaks to determine if a truck is eligible for the break as follows:<ol><li>If a loading unit is selected the system will select all of the trucks that are assigned to (both locked and unlocked) the loading unit and are not already assigned to a break.</li><li>If a region is selected the system will select all of the trucks that are assigned to (both locked and unlocked) loading units within the region and are not already assigned to a break.</li><li>If no shovel or region is selected the system will select all of the ready trucks that are not already assigned to a break.</li><li>The system will exclude the trucks in the &quot;Excluded Trucks&quot; field and the trucks that are assigned to shovels in the &quot;Excluded Shovels&quot; field.</li></ol></li><li>If choose_best_tiedown is false, the optimizer will use the tiedown that was previously computed in the truck_best_tiedown view by the dispatcher. If choose_best_tiedown is true then the optimizer will gather the list of eligible tiedowns for the truck as follows:<ol><li>If the tiedown option field set to &quot;Loading Unit&quot; the optimizer will dynamically add the current truck's assigned shovel's location to the list of available tiedowns for the truck</li><li>If the tiedown option field is set to &quot;Loading Unit and Dump&quot; the optimizer will dynamically add the current truck's assigned shovel's location and the assigned shovel's dump lock location to the list of available tiedowns for the truck.</li><li>If the break's locations field has been populated then these locations are added to the list of available tiedowns for the truck.</li><li>If the tiedown option and locations fields are empty then the system uses all available tiedown locations and all locations and loading units with allow_tiedown set to true.</li><li>The optimizer removes locations from the list that have already met the truck_capacity and locations that the truck is restricted from.</li></ol></li><li>The optimizer determines the best tiedown for the truck as follows:<ol><li>If choose_best_tiedown is false, the optimizer will use the tiedown location that was previously computed in the truck_best_tiedown view by the dispatcher.</li><li>If the list of valid tiedown locations for the truck contains locations that have a minimum truck count that has not yet been satisfied then the list of valid tiedown locations for the truck is dynamically filtered to only include those locations and the optimizer will select the most optimal location for the truck among those locations according to steps c and d.</li><li>If the last location before tiedown is a shovel, the optimizer will select the closest valid tiedown location to the projected dump assignment.</li><li>If the last location before tiedown is a dump, the optimizer will select the closest valid tiedown location to the projected shovel assignment.</li></ol></li><li><p>The optimizer willÂ use the projected queues at the shovels and dumps to predict the times the trucks will leave these locations toÂ determine if the truck can complete another cycle and arrive at a tiedown location before the end of the break. The optimizer uses the following logic to check if the truck can do an extra cycle:</p><ol><li><p>If the truck is currently assigned to a shovel (traveling, waiting, spotting, loading) and must tiedown empty is true, the optimizer will allow the truck to continue with the current optimized assignment since the truck cannot tiedown until after it dumps the load.</p></li><li><p>If the is currently assigned to a shovel (traveling, waiting, spotting, loading) and must tiedown empty is false, the optimizer will calculate the time the truck will complete the current haul cycle and arrive at the tiedown using the route &quot;current locationÂ â†’ shovelÂ â†’ dumpÂ â†’ tiedown&quot;. The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above using the projected dump assignment as the last location before tiedown.</p></li><li><p>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) and must tiedown empty is true, the optimizer will calculate the time the truck will complete an extra load and arrive at the tiedown location using the route â€œcurrent location â†’ dump â†’ shovel â†’ dump â†’ tiedownâ€. If last_bucket_seconds is set then the optimizer will also verify that the truck can receive it's last bucket before the last_bucket_seconds time. The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above using the projected dump assignment as the last location before tiedown.</p></li><li><p>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) and must tiedown empty is false, the optimizer will calculate the time the truck will complete an extra load and arrive at the tiedown location using the route â€œcurrent location â†’ dump â†’ shovelÂ â†’ tiedownâ€. If last_bucket_seconds is set then the optimizer will also verify that the truck can receive it's last bucket before the last_bucket_seconds time.Â The tiedown location that the optimizer uses for this step is selected according to the rules outlined in step 3 above use the projected shovel assignment as the last location before tiedown.</p></li></ol></li><li><p>If the estimated time of arrival at the tiedown calculated in step 4 is before the end of the tiedown the optimizer will allow the truck to continue with the regular optimized assignment. If the estimated time is after the end of the tiedown, the optimizer will assign the truck to a tiedown location as follows:</p><ol><li>If the truck is currently assigned to a shovel (traveling, waiting, spotting, loading) the optimizer will assign the truck to a tiedown according to the rules outlined in step 3, using the shovel as the last location before tiedown. The truck will receive the tiedown assignment after it finishes loading at the shovel.</li><li>If the truck is currently assigned to a dump (hauling, queued, backing, tipping) the optimizer will assign the truck to a tiedown according to the rules outlined in step 3, using the dump as the last location before tiedown. The truck will receive the tiedown assignment after it finishes tipping at the dump.</li></ol></li></ol></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on dic 05, 2025 11:18</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
